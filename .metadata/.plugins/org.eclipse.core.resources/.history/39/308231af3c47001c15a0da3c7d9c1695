package view;

import java.util.ArrayList;

import javax.swing.JButton;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.JTextField;
import javax.swing.table.DefaultTableModel;

import controller.Controle;
import model.Produto;

public class TelaProduto extends TelaPadrao{
	
	private JScrollPane barraRolagem;
	private DefaultTableModel modelo;
	private JTable tabela;
	
	private JTextField buscaField;
	private JButton buscarBtn;

	public TelaProduto(Controle controle) {
		super("Produtos", 500, 700);
		
		buscaField = new JTextField(100);
		
		modelo = new DefaultTableModel();
		tabela = new JTable(modelo);
		modelo.addColumn("Cód. de Barras");
		modelo.addColumn("Nome");
		modelo.addColumn("Preço");
		modelo.addColumn("Dt. Validade");
		modelo.addColumn("Quant.");
		tabela.getColumnModel().getColumn(0).setPreferredWidth(100);
		tabela.getColumnModel().getColumn(1).setPreferredWidth(130);
		tabela.getColumnModel().getColumn(2).setPreferredWidth(100);
		tabela.getColumnModel().getColumn(3).setPreferredWidth(100);
		tabela.getColumnModel().getColumn(4).setPreferredWidth(70);
		
		barraRolagem = new JScrollPane(tabela);
		
		add(buscaField);
		add(barraRolagem);
	}
	
	public void criarTabela(ArrayList<Produto> produtos) {
		modelo.setNumRows(0);
		for (Produto p : produtos) {
			modelo.addRow(new Object[]{p.getCodigoBarras(), p.getNome(), p.getPreco(), Produto.transformadorDataParaString(p.getDataValidade()), p.getQuantidade()});
		}
	}
	
}
